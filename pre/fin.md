# ディジタル万歩計 Digital Pedometer
## 構想と経過報告  - 2018/1/17

- 154-T6901 早﨑悠登
- 151-T6908 平松将
- 150-T6909 廣松大祐
- 151-T6942 山﨑雄喜
---
# 目標　（再掲）
以下の目標について精度80%の正確さを目指す
1) 歩行をカウント
2) 走行をカウント
3) 階段の登り降りをカウント
4) 歩行以外（手で振るなど）をカウントしない

---
# 方針　（再掲）
### 1.歩行データから規則性を調べる
1) データをとる
2) 平滑する（n点平均をとる）
3) 歩数をカウント出来る特徴を見つける   ← 現在
### 2.歩数をカウント出来る特徴を取り出すプログラムを作成する
### 3.調整

---
# 開発計画　（再掲）
##### 1.歩行データをArduinoで取得し、歩行時のデータ的特徴を読み取る
##### 2.データを元にPCでプログラムを作成
1) 適切な長さの配列にデータを格納
2) 平滑化処理
3) カウントする
##### 3.Arduinoに移植
##### 4.走行、階段の昇降についても1~4を繰り返す
##### 5.（追加機能）
1) 画面表示
2) リセットボタン
3) 消費カロリー
4) 検知した足踏みに合わせて音を鳴らす 

---
# 進捗
・大体の正確さで歩数をカウントするプログラムを作成できた
・LCDにカウントした歩数を表示させた
・万歩計のハードウェアの方も適切に配線し、完成させた

---
# 工夫点
・三軸合成値を出し、どの向きでもほぼ同じとなる基準値を設定した
(x, y, z それぞれについて412という値を基準にとった)
・大きな値で合成値を割ることで波形を荒くして、ノイズを除去した

---
![](/st/c2015/c5942/work/arduino/presen/ryou.jpg)

## nで割ると波形はn段階で表される

---
# 苦労した点
・カウントの邪魔になる高周波ノイズの除去
・データを入れた配列の扱いに苦労した
